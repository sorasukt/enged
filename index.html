<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#d32f2f" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#0f0f13" media="(prefers-color-scheme: dark)">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/img/enged-512.png">
    <title>ระบบสารสนเทศ | English Education</title>
    <link id="favicon" rel="icon"
        href="https://s3.ap-southeast-1.amazonaws.com/files.stnetradio.com/logo/ENGEDLOGO.ico">

    <meta property="og:type" content="website">
    <meta property="og:title" content="ระบบสารสนเทศ | English Education">
    <meta property="og:url" content="https://sorasukt.github.io/enged/">
    <meta property="og:image" content="https://sorasukt.github.io/enged/img/og/home.png">
    <meta property="og:description"
        content="ระบบสารสนเทศ | English Education สาขาวิชาภาษาอังกฤษ คณะครุศาสตร์ มหาวิทยาลัยราชภัฏเลย">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@300;400;500;600;700&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="CSS/index.css">
    <link rel="icon" href="https://s3.ap-southeast-1.amazonaws.com/files.stnetradio.com/logo/ENGEDLOGO.ico">
</head>

<body>

    <div class="bg-shape shape-1"></div>
    <div class="bg-shape shape-2"></div>
    <div class="bg-shape shape-3"></div>

    <div class="container">
        <!-- Hero Section -->
        <header class="hero">
            <div class="logo-container">
                <img src="https://s3.ap-southeast-1.amazonaws.com/files.stnetradio.com/logo/ENGEDLOGO.ico"
                    alt="English Education Logo" class="logo-img">
            </div>
            <h1>ยินดีต้อนรับสู่ระบบสารสนเทศ</h1>
            <p class="subtitle">สาขาวิชาภาษาอังกฤษ คณะครุศาสตร์ มหาวิทยาลัยราชภัฏเลย</p>
        </header>

        <footer>
            &copy; 2026 English Education, Loei Rajabhat University <br>
            Made with ❤️ by Sorasuk Thongkum
        </footer>
    </div>

    <!-- Image Popup Modal -->
    <div id="imageModal" class="image-modal">
        <span class="modal-close">&times;</span>
        <img class="modal-content" id="modalImage">
        <div class="modal-caption" id="modalCaption"></div>
    </div>

    <!-- System Status Modal (Hidden by default) -->
    <div id="systemModal" class="image-modal"
        style="display: none; align-items: center; justify-content: center; z-index: 10000;">
        <div class="system-modal-card">
            <div class="modal-icon-wrapper">
                <i class="fas fa-tools"></i>
            </div>
            <h2>แจ้งเตือนสำคัญ</h2>
            <p>ระบบค้นหา Token Key ของสาขาวิชา
                <br> จะถูกปิดในวันที่ <b>30 มกราคม พ.ศ. 2569 <br>ตั้งแต่เวลา 18.00 น. เป็นต้นไป</b>
            </p>
            <p>นักศึกษาสามารถดำเนินการค้นหา Token Key ได้ในระยะเวลาดังกล่าว</p>
            <p>ขอบคุณที่สนับสนุนมาตลอด ขอบคุณครับ!</p>
            <p><i><b>sorasukt</b></i></p>
            <!-- <button class="system-modal-btn" onclick="closeSystemModal()" href="sys.html">ไปหน้าค้นหา Token Key</button> -->
            <a style="text-decoration: none;" class="system-modal-btn" href="sys.html" target="_blank">ไปหน้าค้นหา Token
                Key</a>
        </div>
    </div>

    <!-- Important Notification Modal 
    <div id="infoModal" class="modal fade" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center">
                    <div class="modal-icon-container">
                        <i class="fas fa-bullhorn"></i>
                    </div>
                    <h5>แจ้งเตือนสำคัญ</h5>
                    <p class="modal-description">
                        ระบบค้นหา Token Key ของสาขาวิชา
                        <br> จะถูกปิดในวันที่ <b>30 มกราคม พ.ศ. 2569 เวลา 18.00 น.</b>
                        <br> นักศึกษาสามารถดำเนินการค้นหา Token Key ได้ในระยะเวลาดังกล่าว
                        หลังจากนั้นระบบจะปิดและไม่สามารถใช้งานได้
                        <br><br>
                        ขอบคุณที่สนับสนุนมาตลอด ขอบคุณครับ!
                    </p>
                </div>
            </div>
        </div>
    </div> -->

    <script src="JavaScript/pwa.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // System Status Configuration (ตั้งเวลาปิดปรับปรุงระบบ)
        // ใช้ ISO 8601 format พร้อม timezone GMT+7
        const SYSTEM_MAINTENANCE_START = new Date('2026-01-30T00:00:00+07:00'); // 28 Jan 2026 00:00:00 GMT+7
        const SYSTEM_MAINTENANCE_END = new Date('2027-01-30T00:00:00+07:00');   // 28 Jan 2026 09:00:00 GMT+7

        let systemModalAcknowledged = false;

        function checkSystemStatus() {
            if (systemModalAcknowledged) return;

            const now = new Date();
            const systemModal = document.getElementById('systemModal');

            console.log("Checking System Status:", now);
            console.log("Start:", SYSTEM_MAINTENANCE_START);
            console.log("End:", SYSTEM_MAINTENANCE_END);

            if (now >= SYSTEM_MAINTENANCE_START && now <= SYSTEM_MAINTENANCE_END) {
                console.log("System should be CLOSED (Modal Visible)");
                if (systemModal.style.display !== 'flex') {
                    systemModal.style.display = 'flex';
                }
            } else {
                console.log("System within Normal Operation");
                // Auto-close if time passed and user hasn't closed it manually (optional, but good UX)
                if (systemModal.style.display === 'flex') {
                    systemModal.style.display = 'none';
                }
            }
        }

        // System Modal Function
        function closeSystemModal() {
            document.getElementById('systemModal').style.display = 'none';
            systemModalAcknowledged = true;
        }

        // Show Info Modal on Load
        document.addEventListener('DOMContentLoaded', function () {
            var infoModalElement = document.getElementById('infoModal');
            if (infoModalElement) {
                var infoModal = new bootstrap.Modal(infoModalElement);
                infoModal.show();
            }

            // Start checking system status
            checkSystemStatus();
            setInterval(checkSystemStatus, 60000); // Check every 1 minute
        });

        // Slider functionality
        const slides = document.querySelectorAll('.slide');
        const dotsContainer = document.querySelector('.slider-dots');
        let currentSlide = 0;
        let slideInterval;

        // Create dots
        slides.forEach((_, index) => {
            const dot = document.createElement('span');
            dot.classList.add('dot');
            if (index === 0) dot.classList.add('active');
            dot.onclick = () => goToSlide(index);
            dotsContainer.appendChild(dot);
        });

        function updateSlider() {
            slides.forEach((slide, index) => {
                slide.classList.remove('active');
                if (index === currentSlide) slide.classList.add('active');
            });
            document.querySelectorAll('.dot').forEach((dot, index) => {
                dot.classList.remove('active');
                if (index === currentSlide) dot.classList.add('active');
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            updateSlider();
            resetInterval();
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            updateSlider();
            resetInterval();
        }

        function goToSlide(index) {
            currentSlide = index;
            updateSlider();
            resetInterval();
        }

        function resetInterval() {
            clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 5000);
        }

        // Auto-slide every 5 seconds
        slideInterval = setInterval(nextSlide, 5000);

        // Hide buttons if only one slide
        if (slides.length <= 1) {
            document.querySelectorAll('.slider-btn').forEach(btn => btn.style.display = 'none');
            document.querySelector('.slider-dots').style.display = 'none';
        }

        // Image Modal Functionality
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const modalCaption = document.getElementById('modalCaption');
        const closeBtn = document.querySelector('.modal-close');

        // Add click event to all slider images
        document.querySelectorAll('.slide img').forEach(img => {
            img.addEventListener('click', function () {
                modal.style.display = 'block';
                modalImg.src = this.src;
                modalCaption.textContent = this.alt;
                document.body.style.overflow = 'hidden'; // Prevent scrolling
                clearInterval(slideInterval); // Pause slider
            });
        });

        // Close modal when clicking X
        closeBtn.addEventListener('click', closeModal);

        // Close modal when clicking outside image
        modal.addEventListener('click', function (e) {
            if (e.target === modal) {
                closeModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && modal.style.display === 'block') {
                closeModal();
            }
        });

        function closeModal() {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
            slideInterval = setInterval(nextSlide, 5000); // Resume slider
        }
    </script>
</body>

</html>